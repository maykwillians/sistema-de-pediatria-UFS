<?xml version="1.0" encoding="UTF-8"?>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:pt="http://xmlns.jcp.org/jsf/passthrough">
    <h:head>
        <title>Cadastrar Estudante</title>

        <link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Century+Gothic"/>
        <style type="text/css">

            .fundoBody {
                background-image: url("Imagens/fundo_1-1.png");
                background-repeat: no-repeat}
            
            .divPainelMenu {
                position: fixed}
            .divCorpoMenu {
                width: 200px;
                height: 105px}
            .divMenu1 {
                display: table;
                width: 200px;
                height: 50px}
            .divMenu2 {
                margin-top: 2px;
                display: table;
                width: 200px;
                height: 50px}
            .btMenu1 {
                background-image: url("Imagens/Icons/home.png");
                background-repeat: no-repeat;
                background-position-x: 9px;
                background-position-y: 9px;
                padding-left: 30px;
                font-family: Century Gothic;
                background-color: #fffefb;
                border: 0px;
                color: black;
                width: 100%;
                height: 100%;
                text-align: center;
                outline: none;
                text-decoration: none;
                display: inline-block;
                font-size: 22px;
                cursor: pointer;
                transition: 0.2s ease-out}
            .btMenu1:hover {
                transition: 0.2s ease-out;
                background-color: #d8dfe5}
            .btMenu2 {
                background-image: url("Imagens/Icons/sair.png");
                background-repeat: no-repeat;
                background-position-x: 9px;
                background-position-y: 9px;
                padding-left: 30px;
                font-family: Century Gothic;
                background-color: #fffefb;
                border: 0px;
                color: black;
                width: 100%;
                height: 100%;
                text-align: center;
                text-decoration: none;
                outline: none;
                display: inline-block;
                font-size: 22px;
                cursor: pointer;
                transition: 0.2s ease-out}
            .btMenu2:hover {
                transition: 0.2s ease-out;
                background-color: #d8dfe5}

            .cadastro {
                width: 650px;
                margin-left: auto;
                margin-right: auto}
            .divPainelExt {
                display: table;
                background-color: #FFFFFF;
                width: 650px;
                height: 700px}
            .cabecaForm {
                display: table;
                background-color: #43CD80;
                width: 650px;
                height: 50px}
            .divPainelInt {
                background-color: #FFFFFF;
                margin-right: auto;
                margin-left: auto;
                display: table;
                width: 550px;
                height: 680px}
            .divCad {
                margin-right: auto;
                margin-left: auto;
                display: table;
                margin-top: 5px;
                text-align: center}
            .div1 {
                margin-right: auto;
                margin-left: auto;
                display: table;
                margin-top: 15px;
                text-align: center}
            .div2 {
                float: left;
                margin-top: 20px}
            .divMsgErro {
                text-align: center;
                font-size: 14px;
                font-family: Century Gothic;
                color: red;
                width: 100%;
                height: 0px}
            .div3 {
                margin-top: 3px}
            .div4 {
                float: left;
                margin-top: 15px}
            .div5{
                margin-top: 3px}
            .div6 {
                float: left;
                margin-top: 25px}
            .div7{
                margin-top: 3px}
            .div8 {
                margin-right: auto;
                margin-left: auto;
                display: table;
                margin-top: 30px;
                text-align: center}
            .div9{
                float: left;
                margin-top: 20px}
            .div10{
                margin-top: 3px}
            .div11{
                float: left;
                margin-top: 15px}
            .div12 {
                margin-top: 3px}
            .div13 {
                float: left;
                margin-top: 15px}
            .div14 {
                margin-top: 3px}
            .div15 {
                float: left;
                margin-top: 35px}
            .div16 {
                margin-top: 35px;
                float: right}
            .oneRadio {
                color:  #000000;
                font-family: Century Gothic}
            .selectItem2 {
                color:  #000000;
                font-family: Century Gothic}
            .labelTitle {
                font-size: 30px;
                color:  #FFFFFF;
                font-family: Century Gothic}
            .labelTitleArea {
                font-size: 23px;
                color:  #000000;
                font-family: Century Gothic}
            .label {
                color:  #000000;
                font-family: Century Gothic}
            .imput {
                color: #363636;
                font-family: Century Gothic;
                font-size: 16px;
                width: 100%;
                padding: 6px 15px;
                box-sizing: border-box;
                border-bottom: 1px solid black;
                border-left: 0;
                border-right: 0;
                border-top: 0;
                outline: none;}
            .imput:focus {
                background-color: #F0FFF0}
            .bt1 {
                font-family: Century Gothic;
                background-color: #EE6A50;
                border: 0px;
                color: white;
                padding: 0px 0px;
                text-align: center;
                outline: none;
                text-decoration: none;
                display: inline-block;
                font-size: 22px;
                cursor: pointer;
                float: left;
                transition: 0.2s ease-out}
            .bt1:hover {
                transition: 0.2s ease-out;
                background-color: #8B3E2F}
            .bt2 {
                font-family: Century Gothic;
                background-color: #1C86EE;
                border: 0px;
                color: white;
                padding: 0px 17px;
                text-align: center;
                outline: none;
                text-decoration: none;
                display: inline-block;
                font-size: 22px;
                cursor: pointer;
                float: left;
                transition: 0.2s ease-out}
            .bt2:hover {
                transition: 0.2s ease-out;
                background-color: #104E8B}

            #menu {
                position: fixed;
                right: 0;
                top: 50%;
                width: 8em;
                margin-top: -2.5em}
            
            .dial {
                font-family: Century Gothic;
                background-color: #d9e2fb}
            .dialSuc {
                font-family: Century Gothic;
                background-color: #d9e2fb}
            .btSim {
                font-family: Century Gothic;
                background-color: #1C86EE;
                border: 0px;
                color: white;
                text-align: center;
                text-decoration: none;
                outline: none;
                display: inline-block;
                font-size: 17px;
                cursor: pointer;
                transition: 0.2s ease-out}
            .btSim:hover {
                transition: 0.2s ease-out;
                background-color: #104E8B}
            .btNao {
                float: right;
                font-family: Century Gothic;
                background-color: #EE6A50;
                border: 0px;
                color: white;
                text-align: center;
                text-decoration: none;
                outline: none;
                display: inline-block;
                font-size: 17px;
                cursor: pointer;
                transition: 0.2s ease-out}
            .btNao:hover {
                transition: 0.2s ease-out;
                background-color: #8B3E2F}
            .btOK {
                font-family: Century Gothic;
                background-color: #1C86EE;
                border: 0px;
                color: white;
                text-align: center;
                text-decoration: none;
                outline: none;
                display: inline-block;
                font-size: 17px;
                cursor: pointer;
                transition: 0.2s ease-out}
            .btOK:hover {
                transition: 0.2s ease-out;
                background-color: #104E8B}
        </style>

        <script type="text/javascript">
            //<![CDATA[
            function mascara(o,f){
                v_obj=o
                v_fun=f
                setTimeout("execMascara()",1)
            }
            /*Função que Executa os objetos*/
            function execMascara(){
               v_obj.value=v_fun(v_obj.value)
            }
            
            function matricula(v){
                v=v.replace(/\D/g,"")
                return v
            }
            
            function mascaraNome(e) {
                var expressao;
                expressao = /[çáéíóúÁÉÍÓÚâêîôûÂÊÎÔÛãõÃÕa-zA-Z ]/;
                if(expressao.test(String.fromCharCode(e.keyCode))) {
                    return true;
                }
                else {
                    return false;
                }
            }
            
            function mascaraUsuario(e) {
                var expressao;
                expressao = /[a-zA-Z0-9]/;
                if(expressao.test(String.fromCharCode(e.keyCode))) {
                    return true;
                }
                else {
                    return false;
                }
            }
            
            function maiusculo(id) {
                //palavras para ser ignoradas
                var wordsToIgnore = ["do", "Do", "dO", "DO",
                                     "da", "Da", "dA", "DA",
                                     "das", "Das", "DAs", "dAs", "dAS", "DAS", "daS", "DaS",
                                     "dos", "Dos", "DOs", "dOs", "dOS", "DOS", "doS", "DoS",
                                     "de", "De", "dE", "DE",
                                     "di", "Di", "dI", "DI"],
                minLength = 1;
                var str = $('#'+id).val(); 
                var getWords = function(str) {
                    return str.match(/\S+\s*/g);
                }
                $('#'+id).each(function () {
                    var words = getWords(this.value);
                    $.each(words, function (i, word) {
                        // somente continua se a palavra nao estiver na lista de ignorados
                        if (wordsToIgnore.indexOf($.trim(word)) == -1 && $.trim(word).length > minLength) {
                            words[i] = words[i].charAt(0).toUpperCase() + words[i].slice(1).toLowerCase();
                        } else{
                        words[i] = words[i].toLowerCase();}
                    });
                    this.value = words.join("");
                });
            };
            //]]>
        </script>
        
    </h:head>
    
    <h:body class="fundoBody">
        <h:form prependId="false">
            <div class="divPainelMenu">
                <div class="divCorpoMenu">
                    <div class="divMenu1">
                        <p:commandButton class="btMenu1" value="Início" onclick="PF('inicio').show();"/>
                    </div>
                    <div class="divMenu2">
                        <p:commandButton class="btMenu2" value="Sair" onclick="PF('sair').show();"/>
                    </div>
                </div>
            </div>

            <div class="cadastro">
                <div class="cabecaForm">
                    <div class="divCad">
                        <p:outputLabel class="labelTitle" value="Cadastrar Estudante"/>
                    </div>
                </div>

                <div class="divPainelExt">
                    <div class="divPainelInt">
                        <div class="div1">
                            <p:outputLabel class="labelTitleArea" value="Dados do Estudante"/>
                        </div>

                        <div class="div2">
                            <p:outputLabel class="label" value="Nome Completo *"/>
                        </div>
                        <div class="divMsgErro">
                            <h:messages for="nome" id="nome" class="msgErro"/>
                        </div>
                        <div class="div3">
                            <p:inputText
                                class="imput"
                                id="nomeMaiusculo"
                                value="#{medics.estudante.nome}"
                                onkeypress="return mascaraNome(event)"
                                onblur="maiusculo('nomeMaiusculo')"
                                maxlength="64"
                                pt:placeholder="digite o seu nome completo"/>
                        </div>
                        
                        <div class="div4">
                            <p:outputLabel class="label" value="Email *"/>
                        </div>
                        <div class="divMsgErro">
                            <h:messages for="email" id="email" class="msgErro"/>
                        </div>
                        <div class="div5">
                            <p:inputText
                                class="imput"
                                value="#{medics.estudante.email}"
                                maxlength="64"
                                pt:placeholder="digite seu email"/>
                        </div>

                        <div class="div6">
                            <p:outputLabel class="label" value="Matrícula Estudantil *"/>
                        </div>
                        <div class="divMsgErro">
                            <h:messages for="matricula" id="matricula" class="msgErro"/>
                        </div>
                        <div class="div7">
                            <p:inputMask
                                class="imput"
                                mask="999999999999"
                                value="#{medics.estudante.matricula}"
                                pt:placeholder="digite sua matrícula estudantil (apenas números)"/>
                        </div>

                        <div class="div8">
                            <p:outputLabel class="labelTitleArea" value="Dados para Login"/>
                        </div>
                        
                        <div class="div9">
                            <p:outputLabel class="label" value="Usuário entre 6 a 10 caracteres *"/>
                        </div>
                        <div class="divMsgErro">
                            <h:messages for="usuario" id="usuario" class="msgErro"/>
                        </div>
                        <div class="div10">
                            <p:inputText
                                class="imput"
                                value="#{medics.estudante.login}"
                                onkeypress="return mascaraUsuario(event)"
                                maxlength="10"
                                pt:placeholder="apenas letras e números"/>
                        </div>
                        <div class="div11">
                            <p:outputLabel class="label" value="Senha entre 6 a 10 caracteres *"/>
                        </div>
                        <div class="divMsgErro">
                            <h:messages for="senha" id="senha" class="msgErro"/>
                        </div>
                        <div class="div12">
                            <p:password
                                class="imput"
                                feedback="true"
                                promptLabel="Força da Senha"
                                weakLabel="Fraca"
                                goodLabel="Forte"
                                strongLabel="Muito Forte"
                                inline="true"
                                value="#{medics.estudante.senha}"
                                maxlength="10"
                                pt:placeholder="recomendável utilizar caracteres especiais (*#$%@)"/>
                        </div>
                        <div class="div13">
                            <p:outputLabel class="label" value="Repita sua Senha *"/>
                        </div>
                        <div class="divMsgErro">
                            <h:messages for="repetirSenha" id="repetirSenha" class="msgErro"/>
                        </div>
                        <div class="div14">
                            <p:password
                                class="imput"
                                value="#{medics.repetirSenha}"
                                maxlength="10"
                                pt:placeholder="repita sua senha"/>
                        </div>
                        
                        <div class="div15">
                            <p:commandButton class="bt1" value="Cancelar" onclick="PF('cancelar').show();"/>
                        </div>
                        <div class="div16">
                            <p:commandButton class="bt2" value="Salvar" action="#{medics.validarCadastroEst}" process="@this" ajax="false"/>
                        </div>
                        
                        <p:confirmDialog class="dial" header="Atenção!" message="Deseja Realmente Cancelar?" widgetVar="cancelar" showEffect="fade" hideEffect="fade">
                            <p:commandButton class="btSim" value="Sim" action="medicoHome.xhtml?faces-redirect=true"/>
                            <p:commandButton class="btNao" value="Não" onclick="PF('cancelar').hide()"/>
                        </p:confirmDialog>
                        
                        <p:confirmDialog class="dial" header="Atenção!" message="Deseja Realmente Salvar?" widgetVar="pergunta" showEffect="fade" hideEffect="fade">
                            <p:commandButton class="btSim" value="Sim" onclick="PF('sucesso').show()" action="#{medics.cadastrarEstudante}"/>
                            <p:commandButton class="btNao" value="Não" onclick="PF('pergunta').hide()"/>
                        </p:confirmDialog>
                        
                        <p:confirmDialog class="dial" header="Atenção!" message="Deseja Realmente Sair?" widgetVar="sair" showEffect="fade" hideEffect="fade">
                            <p:commandButton class="btSim" value="Sim" action="#{loginMB.logout}"/>
                            <p:commandButton class="btNao" value="Não" onclick="PF('sair').hide()"/>
                        </p:confirmDialog>
                        
                        <p:confirmDialog class="dial" header="Atenção!" message="Deseja ir para o menu inicial?" widgetVar="inicio" showEffect="fade" hideEffect="fade">
                            <p:commandButton class="btSim" value="Sim" action="medicoHome.xhtml?faces-redirect=true"/>
                            <p:commandButton class="btNao" value="Não" onclick="PF('inicio').hide()"/>
                        </p:confirmDialog>
                        
                        <p:confirmDialog class="dialSuc" header="Sucesso!" message="Estudante cadastrado(a) com sucesso!" widgetVar="sucesso" showEffect="fade" hideEffect="fade">
                            <p:commandButton class="btOK" value="OK" action="listarEstudantes.xhtml?faces-redirect=true"/>
                        </p:confirmDialog>
                    </div>
                </div>
            </div>
        </h:form>
    </h:body>
</html>